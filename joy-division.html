<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joy Division Waves Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="generator-container">
            <div class="page-actions">
                <a href="index.html" class="back-button">‚Üê Back to Gallery</a>
                <button type="button" class="theme-toggle" data-theme-toggle>Theme: System</button>
            </div>

            <div class="generator-header">
                <h1>Joy Division Waves Generator</h1>
                <p>Create iconic wavy line art inspired by the Unknown Pleasures album cover</p>
            </div>

            <div class="controls-panel">
                <details class="control-section">
                    <summary>Basics</summary>
                    <div class="control-section-content">
                        <div class="grid-layout">
                            <div class="control-group">
                                <label for="displayWidth">Canvas Width (px)</label>
                                <input type="number" id="displayWidth" value="1920" min="100" max="2000">
                                <small>Width of the canvas in pixels</small>
                            </div>

                            <div class="control-group">
                                <label for="displayHeight">Canvas Height (px)</label>
                                <input type="number" id="displayHeight" value="1080" min="100" max="2000">
                                <small>Height of the canvas in pixels</small>
                            </div>
                        </div>
                    </div>
                </details>

                <details class="control-section" open>
                    <summary>Joy Division</summary>
                    <div class="control-section-content">
                        <div class="grid-layout">
                            <div class="control-group">
                                <label for="numberLines">Number of Lines</label>
                                <input type="number" id="numberLines" value="40" min="5" max="100">
                                <small>How many wavy lines to draw</small>
                            </div>

                            <div class="control-group">
                                <label for="numberSegments">Number of Segments</label>
                                <input type="number" id="numberSegments" value="50" min="10" max="200">
                                <small>Smoothness of each line (more = smoother)</small>
                            </div>

                            <div class="control-group">
                                <label for="maxRandomHeight">Max Wave Height</label>
                                <input type="number" id="maxRandomHeight" value="8" min="1" max="50">
                                <small>Maximum height of the waves</small>
                            </div>

                            <div class="control-group">
                                <label for="lineWeight">Line Weight (px)</label>
                                <input type="number" id="lineWeight" value="2" min="1" max="10">
                                <small>Thickness of the lines</small>
                            </div>

                            <div class="control-group">
                                <label for="bezierWeight">Bezier Weight</label>
                                <input type="number" id="bezierWeight" value="2" min="1" max="10" step="0.5">
                                <small>Smoothness of the curves (lower = more smooth)</small>
                            </div>

                            <div class="control-group">
                                <label for="weightDirection">Wave Pattern</label>
                                <select id="weightDirection">
                                    <option value="random">Random</option>
                                    <option value="center">Center Weighted</option>
                                    <option value="left">Left Weighted</option>
                                    <option value="right">Right Weighted</option>
                                </select>
                                <small>Where waves are most prominent</small>
                            </div>

                            <div class="control-group">
                                <label for="lineColor">Line Color</label>
                                <input type="color" id="lineColor" value="#ffffff">
                                <small>Color of the wave lines</small>
                            </div>
                        </div>

                    </div>
                </details>

                <details class="control-section">
                    <summary>Animation</summary>
                    <div class="control-section-content">
                        <div class="grid-layout">
                            <div class="control-group">
                                <label for="animationMode">Animation Mode</label>
                                <select id="animationMode">
                                    <option value="none" selected>None</option>
                                    <option value="drift">Gentle Drift</option>
                                    <option value="sweep">Sweep Phase</option>
                                    <option value="tide">Noise Tide</option>
                                    <option value="scroll">Per-Line Scroll</option>
                                    <option value="all">All Modes</option>
                                </select>
                                <small>Animate the wave field</small>
                            </div>

                            <div class="control-group">
                                <label for="animationSpeed">Animation Speed (fps)</label>
                                <input type="number" id="animationSpeed" value="30" min="1" max="120">
                                <small>Frames per second for animation</small>
                            </div>

                            <div class="control-group">
                                <label for="tideIntensity">Tide Intensity</label>
                                <input type="number" id="tideIntensity" value="0.35" min="0" max="2" step="0.05">
                                <small>Strength of the Noise Tide motion</small>
                            </div>

                            <div class="control-group">
                                <label for="exportDuration">Export Duration (s)</label>
                                <input type="number" id="exportDuration" value="5" min="1" max="60">
                                <small>Length of exported GIF/WebM</small>
                            </div>
                        </div>
                    </div>
                </details>

                <details class="control-section">
                    <summary>Colors</summary>
                    <div class="control-section-content">
                        <div class="control-group">
                            <label for="backgroundColor">Background Color</label>
                            <input type="color" id="backgroundColor" value="#000000">
                            <small>Background color</small>
                        </div>

                        <div class="control-group">
                            <label for="fillLines">
                                <input type="checkbox" id="fillLines" checked>
                                Fill Lines with Colors
                            </label>
                            <small>Fill the area under each line with colors</small>
                        </div>

                        <div class="control-group" id="colorModeGroup">
                            <label for="colorMode">Color Mode</label>
                            <select id="colorMode">
                                <option value="random">Random Colors</option>
                                <option value="zones">Zoned Colors (Beach Scene)</option>
                            </select>
                            <small>How to apply colors to the lines</small>
                        </div>

                        <div id="randomColorControls">
                            <div class="control-group" id="customColorsGroup">
                                <label>Custom Fill Colors</label>
                                <div id="colorInputs" class="color-inputs">
                                    <div class="color-input-group">
                                        <input type="color" value="#EF476F">
                                        <button type="button" class="remove-color">Remove</button>
                                    </div>
                                    <div class="color-input-group">
                                        <input type="color" value="#FFD166">
                                        <button type="button" class="remove-color">Remove</button>
                                    </div>
                                    <div class="color-input-group">
                                        <input type="color" value="#06D6A0">
                                        <button type="button" class="remove-color">Remove</button>
                                    </div>
                                    <div class="color-input-group">
                                        <input type="color" value="#118AB2">
                                        <button type="button" class="remove-color">Remove</button>
                                    </div>
                                    <div class="color-input-group">
                                        <input type="color" value="#073B4C">
                                        <button type="button" class="remove-color">Remove</button>
                                    </div>
                                </div>
                                <div class="color-action-buttons" style="margin-top: 0.5rem;">
                                    <button type="button" class="add-color" id="addColorButton">Add Color</button>
                                    <button type="button" class="secondary" id="importColorsButton">Import from Coolors</button>
                                </div>
                                <small>Colors used to fill under the lines</small>
                            </div>
                        </div>

                        <div id="zoneColorControls" style="display: none;">
                            <div class="control-group">
                                <label>Color Zones (from top to bottom)</label>
                                <small>Define color zones with individual settings. Each zone covers a percentage of the total lines.</small>
                                <div id="zoneInputs" class="zone-inputs">
                                    <!-- Sky Zone -->
                                    <div class="zone-card">
                                        <div class="zone-header">
                                            <input type="text" class="zone-name" value="Sky" placeholder="Zone name">
                                            <input type="number" class="zone-percentage" value="25" min="1" max="100" title="Percentage of lines">
                                            <span class="percentage-label">%</span>
                                            <button type="button" class="zone-remove">Remove</button>
                                        </div>
                                        <div class="zone-settings">
                                            <div class="zone-setting-row">
                                                <label>Fill Color</label>
                                                <input type="color" class="zone-color" value="#87CEEB">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Line Color</label>
                                                <input type="color" class="zone-line-color" value="#ffffff">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Segments</label>
                                                <input type="number" class="zone-segments" value="50" min="10" max="200">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Wave Height</label>
                                                <input type="number" class="zone-wave-height" value="4" min="1" max="50">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Line Weight</label>
                                                <input type="number" class="zone-line-weight" value="2" min="1" max="10">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Bezier Weight</label>
                                                <input type="number" class="zone-bezier-weight" value="2" min="1" max="10" step="0.5">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Wave Pattern</label>
                                                <select class="zone-wave-pattern">
                                                    <option value="random">Random</option>
                                                    <option value="center">Center</option>
                                                    <option value="left">Left</option>
                                                    <option value="right">Right</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Grass Zone -->
                                    <div class="zone-card">
                                        <div class="zone-header">
                                            <input type="text" class="zone-name" value="Grass" placeholder="Zone name">
                                            <input type="number" class="zone-percentage" value="25" min="1" max="100" title="Percentage of lines">
                                            <span class="percentage-label">%</span>
                                            <button type="button" class="zone-remove">Remove</button>
                                        </div>
                                        <div class="zone-settings">
                                            <div class="zone-setting-row">
                                                <label>Fill Color</label>
                                                <input type="color" class="zone-color" value="#90EE90">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Line Color</label>
                                                <input type="color" class="zone-line-color" value="#ffffff">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Segments</label>
                                                <input type="number" class="zone-segments" value="50" min="10" max="200">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Wave Height</label>
                                                <input type="number" class="zone-wave-height" value="6" min="1" max="50">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Line Weight</label>
                                                <input type="number" class="zone-line-weight" value="2" min="1" max="10">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Bezier Weight</label>
                                                <input type="number" class="zone-bezier-weight" value="2" min="1" max="10" step="0.5">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Wave Pattern</label>
                                                <select class="zone-wave-pattern">
                                                    <option value="random">Random</option>
                                                    <option value="center" selected>Center</option>
                                                    <option value="left">Left</option>
                                                    <option value="right">Right</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Beach Zone -->
                                    <div class="zone-card">
                                        <div class="zone-header">
                                            <input type="text" class="zone-name" value="Beach" placeholder="Zone name">
                                            <input type="number" class="zone-percentage" value="25" min="1" max="100" title="Percentage of lines">
                                            <span class="percentage-label">%</span>
                                            <button type="button" class="zone-remove">Remove</button>
                                        </div>
                                        <div class="zone-settings">
                                            <div class="zone-setting-row">
                                                <label>Fill Color</label>
                                                <input type="color" class="zone-color" value="#F4A460">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Line Color</label>
                                                <input type="color" class="zone-line-color" value="#ffffff">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Segments</label>
                                                <input type="number" class="zone-segments" value="50" min="10" max="200">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Wave Height</label>
                                                <input type="number" class="zone-wave-height" value="8" min="1" max="50">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Line Weight</label>
                                                <input type="number" class="zone-line-weight" value="2" min="1" max="10">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Bezier Weight</label>
                                                <input type="number" class="zone-bezier-weight" value="2" min="1" max="10" step="0.5">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Wave Pattern</label>
                                                <select class="zone-wave-pattern">
                                                    <option value="random">Random</option>
                                                    <option value="center" selected>Center</option>
                                                    <option value="left">Left</option>
                                                    <option value="right">Right</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Ocean Zone -->
                                    <div class="zone-card">
                                        <div class="zone-header">
                                            <input type="text" class="zone-name" value="Ocean" placeholder="Zone name">
                                            <input type="number" class="zone-percentage" value="25" min="1" max="100" title="Percentage of lines">
                                            <span class="percentage-label">%</span>
                                            <button type="button" class="zone-remove">Remove</button>
                                        </div>
                                        <div class="zone-settings">
                                            <div class="zone-setting-row">
                                                <label>Fill Color</label>
                                                <input type="color" class="zone-color" value="#1E90FF">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Line Color</label>
                                                <input type="color" class="zone-line-color" value="#ffffff">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Segments</label>
                                                <input type="number" class="zone-segments" value="50" min="10" max="200">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Wave Height</label>
                                                <input type="number" class="zone-wave-height" value="12" min="1" max="50">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Line Weight</label>
                                                <input type="number" class="zone-line-weight" value="2" min="1" max="10">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Bezier Weight</label>
                                                <input type="number" class="zone-bezier-weight" value="2" min="1" max="10" step="0.5">
                                            </div>
                                            <div class="zone-setting-row">
                                                <label>Wave Pattern</label>
                                                <select class="zone-wave-pattern">
                                                    <option value="random">Random</option>
                                                    <option value="center" selected>Center</option>
                                                    <option value="left">Left</option>
                                                    <option value="right">Right</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="add-color" id="addZoneButton" style="margin-top: 0.5rem;">Add Zone</button>
                            </div>
                        </div>
                    </div>
                </details>

                <details class="control-section">
                    <summary>Text Overlays</summary>
                    <div class="control-section-content">
                        <div class="control-group">
                            <div id="textOverlayList" class="text-overlay-list"></div>
                            <div class="text-overlay-actions">
                                <button type="button" class="add-color" id="addTextOverlayButton">Add Text</button>
                            </div>
                            <small>Add text overlays with custom placement, size, font, and shadow styles</small>
                        </div>
                    </div>
                </details>

                <div class="button-group">
                    <button id="generateButton">Generate Art</button>
                    <button id="toggleButton" style="display: none;">Pause</button>
                    <button class="secondary" id="downloadPngButton">Download PNG</button>
                    <button class="secondary" id="downloadSvgButton">Download SVG</button>
                    <button class="secondary" id="downloadGifButton">Download GIF</button>
                    <button class="secondary" id="recordWebmButton">Record WebM</button>
                    <button class="secondary" id="shareButton">Share</button>
                    <span id="shareFeedback" class="share-feedback"></span>
                </div>
            </div>

            <div class="canvas-container">
                <canvas id="canvas"></canvas>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="coolorsModal" aria-hidden="true">
        <div class="modal" role="dialog" aria-modal="true" aria-labelledby="coolorsModalTitle">
            <div class="modal-header">
                <h2 id="coolorsModalTitle">Import from Coolors</h2>
                <button type="button" class="modal-close" id="coolorsModalClose">Close</button>
            </div>
            <div class="modal-body">
                <label for="coolorsImportUrl">Coolors.co Palette URL</label>
                <input type="text" id="coolorsImportUrl" placeholder="https://coolors.co/palette/ef476f-ffd166-06d6a0-118ab2-073b4c">
                <small>Paste a Coolors.co URL to import its colors</small>
            </div>
            <div class="modal-actions">
                <button type="button" class="secondary" id="importCancelButton">Cancel</button>
                <button type="button" id="importAddButton">Add to Colors</button>
                <button type="button" class="add-color" id="importOverwriteButton">Overwrite Colors</button>
            </div>
        </div>
    </div>

    <script src="utils.js"></script>
    <script src="joy-division.js"></script>
    <script src="https://cdn.counter.dev/script.js" data-id="af667829-e0c0-4f79-a071-b16af6abfd49" data-utcoffset="-5"></script>
</body>
</html>
